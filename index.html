<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Projection with Collapsible Sections</title>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Open+Sans:wght@300;400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            overflow: hidden;
        }
        #controls {
            position: fixed;
            top: 10px;
            right: 10px;
            background-color: #f0f0f0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 12px;
            width: 220px;
            z-index: 1000;
            transition: transform 0.3s ease-in-out;
            overflow-y: auto;
            max-height: 90vh;
        }
        #controls.folded {
            transform: translateX(240px);
        }
        #controls label,
        #controls input,
        #controls select,
        #controls button {
            display: block;
            margin-bottom: 8px;
            width: 100%;
        }
        #foldButton {
            position: absolute;
            top: 5px;
            left: -25px;
            width: 25px;
            height: 25px;
            background-color: #ccc;
            border: 1px solid #999;
            border-radius: 3px;
            cursor: pointer;
            text-align: center;
            line-height: 23px;
        }
        #output {
            white-space: pre-wrap;
            margin-top: 20px;
            padding: 10px;
            font-size: 20px;
            font-family: Arial, sans-serif;
        }
        #fontSizeDisplay, #lineSpacingDisplay, #imageSizeDisplay {
            text-align: right;
            font-size: 12px;
            color: #555;
        }
        #imageContainer {
            margin-top: 20px;
            position: relative;
        }
        #imagePreview {
            max-width: 100%;
            display: none;
            position: absolute;
            cursor: move;
        }
        .category-label {
            font-weight: bold;
            margin-top: 10px;
            cursor: pointer;
        }
        .collapsible-content {
            display: none;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div id="controls">
        <div id="foldButton" onclick="toggleFold()">&#10094;</div>

        <label for="sentence">Write Sentence:</label>
        <input type="text" id="sentence" value="Meta Platforms, Inc.,[10] doing business as Meta,[11] and formerly named Facebook, Inc., and TheFacebook, Inc.,[12][13] is an American multinational technology conglomerate based in Menlo Park, California. The company owns and operates Facebook, Instagram, Threads, and WhatsApp, among other products and services.[14] Meta ranks among the largest American information technology companies, alongside other Big Five corporations Alphabet (Google), Amazon, Apple, and Microsoft. The company was ranked #31 on the Forbes Global 2000 ranking in 2023.[15] In 2022, Meta was the company with the third-highest expenditure on research and development worldwide, with R&D expenditure amounting to US$35.3 billion.[16]
        Meta has also acquired Oculus (which it has integrated into Reality Labs), Mapillary, CTRL-Labs, and a 9.99% stake in Jio Platforms; the company additionally endeavored into non-VR hardware, such as the discontinued Meta Portal smart displays line and presently partners with Luxottica through the Ray-Ban Stories series of smartglasses.[17][18] Despite endeavors into hardware, the company relies on advertising for a vast majority of its revenue, amounting to 97.8 percent in 2023.[19]
        Parent company Facebook, Inc. rebranded as Meta Platforms, Inc. on October 28, 2021, to 'reflect its focus on building the metaverse',[20] an integrated environment linking the company's products and services.[21][22][23] History Further information: History of Facebook and Initial public offering of Facebook Billboard on the Thomson Reuters building welcomes Facebook to Nasdaq, 2012 Early chart of Facebook's stock Facebook corporate logo from 2019 to 2021 This article is part of a series about Meta Platforms History InstagramWhatsAppAcquisitions Products and services Facebook Other products People Executives and board members Notable employees Related organizations Business Criticism Litigation Related vte Facebook filed for an initial public offering (IPO) on January 1, 2012.[24] The preliminary prospectus stated that the company sought to raise $5 billion, had 845 million monthly active users, and a website accruing 2.7 billion likes and comments daily.[25] After the IPO, Zuckerberg would retain 22% of the total shares and 57% of the total voting power in Facebook.[26]
        Underwriters valued the shares at $38 each, valuing the company at $104 billion, the largest valuation to date for a newly public company.[27] On May 16, one day before the IPO, Facebook announced it would sell 25% more shares than originally planned due to high demand.[28] The IPO raised $16 billion, making it the third-largest in US history (slightly ahead of AT&T Mobility and behind only General Motors and Visa). The stock price left the company with a higher market capitalization than all but a few U.S. corporations—surpassing heavyweights such as Amazon, McDonald's, Disney, and Kraft Foods—and made Zuckerberg's stock worth $19 billion.[29][30] The New York Times stated that the offering overcame questions about Facebook's difficulties in attracting advertisers to transform the company into a 'must-own stock'. Jimmy Lee of JPMorgan Chase described it as 'the next great blue-chip'.[29] Writers at TechCrunch, on the other hand, expressed skepticism, stating, 'That's a big multiple to live up to, and Facebook will likely need to add bold new revenue streams to justify the mammoth valuation.'[31]
        Trading in the stock, which began on May 18, was delayed that day due to technical problems with the Nasdaq exchange.[32] The stock struggled to stay above the IPO price for most of the day, forcing underwriters to buy back shares to support the price.[33] At the closing bell, shares were valued at $38.23,[34] only $0.23 above the IPO price and down $3.82 from the opening bell value. The opening was widely described by the financial press as a disappointment.[35] The stock nonetheless set a new record for trading volume of an IPO.[36] On May 25, 2012, the stock ended its first full week of trading at $31.91, a 16.5% decline.[37] On May 22, 2012, regulators from Wall Street's Financial Industry Regulatory Authority announced that they had begun to investigate whether banks underwriting Facebook had improperly shared information only with select clients rather than the general public. Massachusetts Secretary of State William F. Galvin subpoenaed Morgan Stanley over the same issue.[38] The allegations sparked 'fury' among some investors and led to the immediate filing of several lawsuits, one of them a class action suit claiming more than $2.5 billion in losses due to the IPO.[39] Bloomberg estimated that retail investors may have lost approximately $630 million on Facebook stock since its debut.[40] S&P Global Ratings added Facebook to its S&P 500 index on December 21, 2013.[41] On May 2, 2014, Zuckerberg announced that the company would be changing its internal motto from 'Move fast and break things' to 'Move fast with stable infrastructure'.[42][43] The earlier motto had been described as Zuckerberg's 'prime directive to his developers and team' in a 2009 interview in Business Insider, in which he also said, 'Unless you are breaking stuff, you are not moving fast enough.'[44] ">

        <label for="rows">Row Multiplier:</label>
        <input type="number" id="rows" value="1" min="1">

        <label for="columns">Column Multiplier:</label>
        <input type="number" id="columns" value="1" min="1">

        <label for="fontSize">Font Size:</label>
        <input type="range" id="fontSize" min="10" max="100" value="20" oninput="updateFontSize();">
        <div id="fontSizeDisplay">Font Size: 20px</div>

        <label for="usePt">Use pt instead of px:</label>
        <input type="checkbox" id="usePt" onchange="updateFontSize();">

        <label for="lineSpacing">Line Spacing:</label>
        <input type="range" id="lineSpacing" min="1" max="3" step="0.1" value="1.5" oninput="updateLineSpacing();">
        <div id="lineSpacingDisplay">Line Spacing: 1.5</div>

        <label for="fontType">Font Type:</label>
        <select id="fontType" onchange="document.getElementById('output').style.fontFamily = this.value;">
            <option value="Arial">Arial</option>
            <option value="Courier New">Courier New</option>
            <option value="Georgia">Georgia</option>
            <option value="Times New Roman">Times New Roman</option>
            <option value="Verdana">Verdana</option>
            <option value="'Roboto', sans-serif">Roboto</option>
            <option value="'Lobster', cursive">Lobster</option>
            <option value="'Open Sans', sans-serif">Open Sans</option>
        </select>

        <button onclick="generateOutput()">Generate</button>

        <label for="imageUpload">Upload Image:</label>
        <input type="file" id="imageUpload" accept="image/*" onchange="loadImage()">

        <label for="imageUrl">Image URL:</label>
        <input type="text" id="imageUrl" placeholder="Enter image URL" oninput="loadImageFromURL()">

        <div class="category-label" onclick="toggleCategory('General')">General</div>
        <div id="General" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/crosshair_chart.png?raw=true" onclick="showImage(this)">Crosshair chart</label>
        </div>

        <div class="category-label" onclick="toggleCategory('RGBW')">RGBW</div>
        <div id="RGBW" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/blue.png?raw=true" onclick="showImage(this)">blue</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/green.png?raw=true" onclick="showImage(this)">green</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/red.png?raw=true" onclick="showImage(this)">red</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/white.png?raw=true" onclick="showImage(this)">white</label>
        </div>
        <div class="category-label" onclick="toggleCategory('Gamma')">Gamma</div>
        <div id="Gamma" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/000000.png?raw=true" onclick="showImage(this)">000000</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/1F1F1F.png?raw=true" onclick="showImage(this)">1F1F1F</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/3F3F3F.png?raw=true" onclick="showImage(this)">3F3F3F</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/5F5F5F.png?raw=true" onclick="showImage(this)">5F5F5F</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/7F7F7F.png?raw=true" onclick="showImage(this)">7F7F7F</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/9F9F9F.png?raw=true" onclick="showImage(this)">9F9F9F</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/BFBFBF.png?raw=true" onclick="showImage(this)">BFBFBF</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/DFDFDF.png?raw=true" onclick="showImage(this)">DFDFDF</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/FFFFFF.png?raw=true" onclick="showImage(this)">FFFFFF</label>
        </div>
        <div class="category-label" onclick="toggleCategory('ColorChecker')">ColorChecker</div>
        <div id="ColorChecker" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/1.png?raw=true" onclick="showImage(this)">1</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/2.png?raw=true" onclick="showImage(this)">2</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/3.png?raw=true" onclick="showImage(this)">3</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/4.png?raw=true" onclick="showImage(this)">4</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/5.png?raw=true" onclick="showImage(this)">5</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/6.png?raw=true" onclick="showImage(this)">6</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/7.png?raw=true" onclick="showImage(this)">7</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/8.png?raw=true" onclick="showImage(this)">8</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/9.png?raw=true" onclick="showImage(this)">9</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/10.png?raw=true" onclick="showImage(this)">10</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/11.png?raw=true" onclick="showImage(this)">11</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/12.png?raw=true" onclick="showImage(this)">12</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/13.png?raw=true" onclick="showImage(this)">13</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/14.png?raw=true" onclick="showImage(this)">14</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/15.png?raw=true" onclick="showImage(this)">15</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/16.png?raw=true" onclick="showImage(this)">16</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/17.png?raw=true" onclick="showImage(this)">17</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/18.png?raw=true" onclick="showImage(this)">18</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/19.png?raw=true" onclick="showImage(this)">19</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/20.png?raw=true" onclick="showImage(this)">20</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/21.png?raw=true" onclick="showImage(this)">21</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/22.png?raw=true" onclick="showImage(this)">22</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/23.png?raw=true" onclick="showImage(this)">23</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/24.png?raw=true" onclick="showImage(this)">24</label>
        </div>
        <div class="category-label" onclick="toggleCategory('sharpnessEvaluation')">Sharpness Evaluation</div>
        <div id="sharpnessEvaluation" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/ISO12233_2014.png?raw=true" onclick="showImage(this)">ISO12233 2014</label>
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/ISO12233_2014_green.png?raw=true" onclick="showImage(this)">Green ISO12233 2014</label>
        </div>

        <div class="category-label" onclick="toggleCategory('textEvaluation')">Text Evaluation</div>
        <div id="textEvaluation" class="collapsible-content">
            <label><input type="checkbox" name="imageSelector" value="https://github.com/mooenaso/sentence-repeater/blob/main/data/Gen2_deg1.0_blur0.01_ppd60_idx3.png?raw=true" onclick="showImage(this)"> Text Image 1</label>
            <!-- Add more text evaluation images here -->
        </div>

        <label for="imageSize">Image Size:</label>
        <input type="range" id="imageSize" min="10" max="4000" value="300" oninput="resizeImage();">
        <div id="imageSizeDisplay">Image Size: 300px</div>
    </div>

    <div id="output"></div>

    <div id="imageContainer">
        <img id="imagePreview" alt="Projected Image">
    </div>

    <script>
        function toggleFold() {
            const controls = document.getElementById('controls');
            const foldButton = document.getElementById('foldButton');
            controls.classList.toggle('folded');
            foldButton.textContent = controls.classList.contains('folded') ? '❯' : '❮';
        }

        function updateFontSize() {
            const fontSize = document.getElementById('fontSize').value;
            const usePt = document.getElementById('usePt').checked;
            const unit = usePt ? 'pt' : 'px';
            document.getElementById('output').style.fontSize = fontSize + unit;
            document.getElementById('fontSizeDisplay').textContent = 'Font Size: ' + fontSize + unit;
        }

        function updateLineSpacing() {
            const lineSpacing = document.getElementById('lineSpacing').value;
            document.getElementById('output').style.lineHeight = lineSpacing;
            document.getElementById('lineSpacingDisplay').textContent = 'Line Spacing: ' + lineSpacing;
        }

        function generateOutput() {
            const sentence = document.getElementById('sentence').value;
            const rows = parseInt(document.getElementById('rows').value);
            const columns = parseInt(document.getElementById('columns').value);
            let output = '';

            for (let i = 0; i < rows; i++) {
                output += sentence.repeat(columns) + '\n';
            }

            document.getElementById('output').textContent = output;
        }

        function showImage(checkbox) {
            const allCheckboxes = document.querySelectorAll('input[name="imageSelector"]');
            const imagePreview = document.getElementById('imagePreview');
            const imageSize = document.getElementById('imageSize').value;

            // Uncheck all other checkboxes and hide the image if this one is unchecked
            allCheckboxes.forEach(cb => {
                if (cb !== checkbox) {
                    cb.checked = false;
                }
            });

            if (checkbox.checked) {
                imagePreview.src = checkbox.value;
                imagePreview.style.display = 'block';
                imagePreview.style.width = imageSize + 'px';
                centerImage(imagePreview);
            } else {
                imagePreview.style.display = 'none';
            }
        }

        function loadImage() {
            const file = document.getElementById('imageUpload').files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const image = document.getElementById('imagePreview');
                image.src = e.target.result;
                image.style.display = 'block';
                resizeImage(); // Adjust size to initial value
                enableImageDragging(image); // Enable dragging
            }

            if (file) {
                reader.readAsDataURL(file);
            }
        }

        function loadImageFromURL() {
            const imageUrl = document.getElementById('imageUrl').value;
            if (imageUrl) {
                const image = document.getElementById('imagePreview');
                image.src = imageUrl;
                image.style.display = 'block';
                resizeImage(); // Adjust size to initial value
                enableImageDragging(image); // Enable dragging
            }
        }

        function resizeImage() {
            const imageSize = document.getElementById('imageSize').value;
            const image = document.getElementById('imagePreview');
            image.style.width = imageSize + 'px';
            document.getElementById('imageSizeDisplay').textContent = 'Image Size: ' + imageSize + 'px';
            centerImage(image);
        }

        function centerImage(image) {
            const container = document.getElementById('imageContainer');
            const containerWidth = container.clientWidth;
            const containerHeight = container.clientHeight;
            const imageWidth = image.clientWidth;
            const imageHeight = image.clientHeight;

            const leftOffset = (containerWidth - imageWidth) / 2;
            const topOffset = (containerHeight - imageHeight) / 2;

            image.style.left = leftOffset + 'px';
            image.style.top = topOffset + 'px';
        }

        function toggleCategory(categoryId) {
            const category = document.getElementById(categoryId);
            const isVisible = category.style.display === 'block';
            category.style.display = isVisible ? 'none' : 'block';
        }

        function enableImageDragging(image) {
            let posX = 0, posY = 0, mouseX = 0, mouseY = 0;

            image.onmousedown = function(e) {
                e.preventDefault();
                mouseX = e.clientX;
                mouseY = e.clientY;
                document.onmouseup = closeDragImage;
                document.onmousemove = imageDrag;
            };

            function imageDrag(e) {
                e.preventDefault();
                posX = mouseX - e.clientX;
                posY = mouseY - e.clientY;
                mouseX = e.clientX;
                mouseY = e.clientY;
                image.style.top = (image.offsetTop - posY) + "px";
                image.style.left = (image.offsetLeft - posX) + "px";
            }

            function closeDragImage() {
                document.onmouseup = null;
                document.onmousemove = null;
            }
        }

        // Enable dragging on load
        const imagePreview = document.getElementById('imagePreview');
        enableImageDragging(imagePreview);
    </script>

</body>
</html>
